<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Statistik</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="d-flex flex-column min-vh-100">

<div th:replace="~{fragments/layout :: navbar}"></div>

<div class="container mt-5 flex-fill">

  <h2>Statistik Produk</h2>

  <p>Total Produk: <strong th:text="${totalProducts}"></strong></p>

  <h4>Total Produk per Kategori:</h4>
  <ul>
    <li th:each="entry : ${categoryStats}">
      <span th:text="${entry.key}"></span> :
      <span th:text="${entry.value}"></span>
    </li>
  </ul>

  <p>
    Produk Termahal:
    <span th:text="${mostExpensive.name}"></span> -
    Rp <span th:text="${mostExpensive.price}"></span>
  </p>

  <p>
    Produk Termurah:
    <span th:text="${cheapest.name}"></span> -
    Rp <span th:text="${cheapest.price}"></span>
  </p>

  <p>Rata-rata Harga: Rp <span th:text="${averagePrice}"></span></p>

  <p>Jumlah Produk Stok < 20: <strong th:text="${lowStockCount}"></strong></p>

</div>

<div th:replace="~{fragments/layout :: footer}"></div>

</body>
</html>